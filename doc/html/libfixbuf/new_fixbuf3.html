<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libfixbuf: What is New with fixbuf 3.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">What is New with fixbuf 3.0 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_doc_new_fixbuf3"></a> This page highlights the new features and incompatible changes in fixbuf 3.0.0. See the <a href="../download.html#release-3.0.0.alpha1">changelog</a> for the complete set of changes.</p>
<h1><a class="anchor" id="ipfix2json"></a>
ipfix2json</h1>
<p >fixbuf 2.0.0 includes a new tool, <a href="../ipfix2json.html"><b>ipfix2json</b></a>, which reads an IPFIX stream and produces JSON.</p>
<p >The tool produces JSON for both the templates and the data records by default. Use the <b>&ndash;data</b> switch to exclude the templates.</p>
<p >The values for octetArray elements are printed in Base64 encoding by default. For some data, using <b>&ndash;octet-format=string</b> may provide more readable output.</p>
<p >For <a href="../../yaf/index.html">YAF</a>-specific data, most users will find the JSON output from <a href="../../super_mediator/index.html"><b>super_mediator</b></a> to be superior. For example, <b>super_mediator</b> prints TCP flags using the typical letters ("FSRPAU") while <b>ipfix2json</b> prints the integer value.</p>
<h1><a class="anchor" id="ipfixDump"></a>
ipfixDump</h1>
<p >The output from <a href="../ipfixDump.html"><b>ipfixDump</b></a> is completely different in this release, being both more compact and more readable.</p>
<p >New options have been added which provide new information and better control of the output.</p>
<h1><a class="anchor" id="API"></a>
API</h1>
<p >There are many new features and incompatible changes to the API.</p>
<h2><a class="anchor" id="TemplateField"></a>
Template Field</h2>
<p >The biggest change is that elements in an <a class="el" href="public_8h.html#a1a98b02ac2e3547d96e839174270af99">fbTemplate_t</a> are represented by the <a class="el" href="public_8h.html#a14584138b2d3c57189522d818d8fec6f">fbTemplateField_t</a> object instead of the <a class="el" href="public_8h.html#a8b602092d4c0a9ae3727445eb45acf3c">fbInfoElement_t</a>.</p>
<h2><a class="anchor" id="TemplateIter"></a>
Template Iterator</h2>
<p >A new <a class="el" href="public_8h.html#a2d3866dd11fcca3256b29a4b4e6bff13">fbTemplateIter_t</a> object and related functions make it easier to iterate over the <a class="el" href="public_8h.html#a14584138b2d3c57189522d818d8fec6f">fbTemplateField_t</a>s in a <a class="el" href="public_8h.html#a1a98b02ac2e3547d96e839174270af99">fbTemplate_t</a>.</p>
<h2><a class="anchor" id="InfoElement"></a>
Info Element</h2>
<p >The name of an <a class="el" href="public_8h.html#a8b602092d4c0a9ae3727445eb45acf3c">fbInfoElement_t</a> is now directly accessible. Other members were removed since the structure is not used with a <a class="el" href="public_8h.html#a1a98b02ac2e3547d96e839174270af99">fbTemplate_t</a>.</p>
<h2><a class="anchor" id="Record"></a>
Record</h2>
<p >A convenience object <a class="el" href="public_8h.html#a0e7f837334745515664086598158e9b0">fbRecord_t</a> and related functions (e.g., <a class="el" href="public_8h.html#a4614321290c652686f71ace3e366afe4" title="Sets the internal template on a Buffer and gets its next record.">fBufNextRecord()</a>) have been added. This object holds data buffer for a data record and a pointer to its template.</p>
<p >Functions exist to search a <a class="el" href="public_8h.html#a0e7f837334745515664086598158e9b0">fbRecord_t</a> for a particular element:</p>
<ul>
<li><a class="el" href="public_8h.html#a16dd5213656001a11f750eb4e97a1e84" title="Searches a Record for an Element and gets its Value.">fbRecordFindValueForInfoElement()</a></li>
<li><a class="el" href="public_8h.html#a4b3ff599ef6b726f72acdb101cedb716" title="Searches record for a basicList of contentsElement values.">fbRecordFindBasicListOfIE()</a></li>
<li><a class="el" href="public_8h.html#a91345d8611a4f5f7b4cf3f5169d1e019" title="Searches record for a subTemplateList that uses tmpl.">fbRecordFindStlOfTemplate()</a></li>
</ul>
<p >There are also functions to search a <a class="el" href="public_8h.html#a0e7f837334745515664086598158e9b0">fbRecord_t</a> and its subrecords for a particular <a class="el" href="public_8h.html#a14584138b2d3c57189522d818d8fec6f">fbTemplateField_t</a> or use of a particular <a class="el" href="public_8h.html#a1a98b02ac2e3547d96e839174270af99">fbTemplate_t</a> ID.</p>
<ul>
<li><a class="el" href="public_8h.html#ad178f37cf84c9dca1bd3901c52831d6d" title="Recursively searches a Record and all its sub-records for an Info Element.">fbRecordFindAllElementValues()</a></li>
<li><a class="el" href="public_8h.html#abef56bf497cbc0b2c1b00c1221f2ae73" title="Recursively searches a Record for uses of a fbTemplate_t having a particular ID.">fbRecordFindAllSubRecords()</a></li>
</ul>
<h2><a class="anchor" id="Accessor"></a>
Accessor Macros</h2>
<p >Macros to access the members of most structures (e.g., <a class="el" href="public_8h.html#a8b602092d4c0a9ae3727445eb45acf3c">fbInfoElement_t</a>, <a class="el" href="public_8h.html#ab882fa308b94cfa60de92ad61657aef7">fbBasicList_t</a>, <a class="el" href="public_8h.html#a1b9c85abed01a46bbd4ef3c7aa9b2674">fbSubTemplateList_t</a>) have been added.</p>
<h2><a class="anchor" id="TemplateInfo"></a>
Template Info</h2>
<p >A new <a class="el" href="public_8h.html#a7d56159f73010d0e0142c13eeb74c4e1">fbTemplateInfo_t</a> object holds metadata about a <a class="el" href="public_8h.html#a1a98b02ac2e3547d96e839174270af99">fbTemplate_t</a>. This object replaces the <code>name</code> and <code>description</code> parameters that used to be passed to fbSessionAddTemplateWithMetadata(). That function has been removed, and <a class="el" href="public_8h.html#a5a23a76ff4edff6616b5db2fbd63644f" title="Adds a Template to a Session.">fbSessionAddTemplate()</a> now accepts the <a class="el" href="public_8h.html#a7d56159f73010d0e0142c13eeb74c4e1">fbTemplateInfo_t</a>, which may be NULL.</p>
<h2><a class="anchor" id="Spread"></a>
Spread</h2>
<p >Spread toolkit support has been removed.</p>
<h2><a class="anchor" id="Incompatible"></a>
Incompatible Function Changes</h2>
<p >The following functions from fixbuf 2.x have either had their parameter list changed or been removed.</p>
<p >If the second column is empty, only the parameter list has changed by requiring additional parameters.</p>
<p >If the param column is empty, the function has been renamed but is otherwise identical.</p>
<p >When no columns are empty, the function has been removed and the second column provides similar functionality but with different parameters.</p>
<p >The table does not include functions related to the spread toolkit.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">fixbuf 2   </th><th class="markdownTableHeadLeft">fixbuf 3   </th><th class="markdownTableHeadLeft">param    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a5a23a76ff4edff6616b5db2fbd63644f" title="Adds a Template to a Session.">fbSessionAddTemplate()</a>   </td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">added    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">fbSessionAddTemplateWithMetadata()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a5a23a76ff4edff6616b5db2fbd63644f" title="Adds a Template to a Session.">fbSessionAddTemplate()</a>   </td><td class="markdownTableBodyLeft">changed    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#ab7dad407b7dc4409ab06ec796c0b0ed7" title="Configures a Session to export template metadata (fbTemplateInfo_t) as options records.">fbSessionSetMetadataExportTemplates()</a>   </td><td class="markdownTableBodyLeft"></td><td class="markdownTableBodyLeft">added    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#ad4eccf26f7c201064a730728e9a5f9bc" title="A deprecated alias for fBufSetAutomaticElementInsert().">fBufSetAutomaticInsert()</a>   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a620d1ac952f0c3f10d0a8b3fd3628171" title="Enables automatic insertion of RFC 5610 elements read from a Buffer.">fBufSetAutomaticElementInsert()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a661f4cc21e726345d3e22372af33c2d1" title="Deprecated.">fBufSetAutomaticMode()</a>   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a43af06a2929be582b0d7197f0c13e25a" title="Sets the automatic next-message mode flag on a Buffer.">fBufSetAutomaticNextMessage()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">fbBasicListRealloc()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a26e95b7052c92a566357b9ffeeffe63e" title="Resizes and zeroes the list&#39;s internal buffer for elements.">fbBasicListResize()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">fbListValidSemantic()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a4f274a6faf0eec6d61e4af82d17e0035" title="Validates the value of a structured data types semantic field, as defined in RFC 6313 and listed at I...">fbListSemanticsIsValid()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">fbSubTemplateListRealloc()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a7a460b8a9aa5c2e0ffa7031aa2dba8a5" title="Resizes and zeroes the list&#39;s internal buffer for elements (sub-records).">fbSubTemplateListResize()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">fbSubTemplateMultiListEntryRealloc()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#ae46285847eb3ed9b7a553473cfed3f06" title="Resizes and zeroes the entry&#39;s internal buffer for elements (sub-records).">fbSubTemplateMultiListEntryResize()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">fbSubTemplateMultiListRealloc()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a8bc0810bb99933724d4995c82f0627bb" title="Resizes and zeroes the list&#39;s internal buffer for entries (fbSubTemplateMultiListEntry_t).">fbSubTemplateMultiListResize()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a39c0c42427d497190431ac4fc9966db7" title="Deprecated alias for fbTemplateGetFieldByPosition.">fbTemplateGetIndexedIE()</a>   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#ad31a9b5d5132c768b38d77db4a7f06ad" title="Returns a field in a template at a specific position.">fbTemplateGetFieldByPosition()</a>   </td><td class="markdownTableBodyLeft"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">fbBasicListInitWithOwnBuffer()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a63ff8e47323bf98bcd901b1efa7c7e0f" title="Initializes a BasicList for export.">fbBasicListInit()</a>   </td><td class="markdownTableBodyLeft">unsupported    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">fbSessionEnableTemplateMetadata()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#ab7dad407b7dc4409ab06ec796c0b0ed7" title="Configures a Session to export template metadata (fbTemplateInfo_t) as options records.">fbSessionSetMetadataExportTemplates()</a>   </td><td class="markdownTableBodyLeft">added    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">fbSessionEnableTypeMetadata()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a2e729b270df473a1f32f519ed184a259" title="Configures a session to export type information for enterprise-specific information elements as optio...">fbSessionSetMetadataExportElements()</a>   </td><td class="markdownTableBodyLeft">added    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">fbSubTemplateListInitWithOwnBuffer()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#a497d41e7ccc09f44b9a24320809c3a90" title="Initializes stl with the given parameters and allocates the internal data array to a size capable of ...">fbSubTemplateListInit()</a>   </td><td class="markdownTableBodyLeft">unsupported    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">fbInfoModelTypeInfoRecord()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#ae7754b935026997a60228ca1fce9e19d" title="Checks to see if a template describes a meta-data record according to the bit-field value in tests.">fbTemplateIsMetadata()</a>   </td><td class="markdownTableBodyLeft">changed    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">fbTemplateMetadataRecord()   </td><td class="markdownTableBodyLeft"><a class="el" href="public_8h.html#ae7754b935026997a60228ca1fce9e19d" title="Checks to see if a template describes a meta-data record according to the bit-field value in tests.">fbTemplateIsMetadata()</a>   </td><td class="markdownTableBodyLeft">changed   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</body>
</html>
